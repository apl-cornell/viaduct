/* The classic MPC problem */
process main {
  int{A} a;
  int{B} b;
  bool{(A | B)-> & (A & B)<-} b_richer;

  a <- recv alice_main;
  b <- recv bob_main;

  int{A & B<-} a_endorsed = endorse(a, {A & B<-});
  int{B & A<-} b_endorsed = endorse(b, {B & A<-});

  b_richer = declassify(a_endorsed <= b_endorsed, {(A|B)-> & (A&B)<-});
  assert b_richer;
}
process alice_main {
  send 20 to main;
}

process bob_main {
  send 40 to main;
}

host alice : {A};
host bob : {B};
