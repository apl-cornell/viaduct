host chuck
host dave
host ed

assume ed trusts chuck & dave

fun main() {
    val c : int = endorse (input int from chuck) to {chuck & dave<-} from {chuck};
    val d : int = endorse (input int from dave)  to {dave & chuck<-} from {dave};
    f(c, d, val win);
    output win to chuck;
    output win to dave;
}

fun f(num: int{chuck & dave<-}, guess: int{dave & chuck<-}, ret: out bool{chuck ⊓ dave}) {
    out ret = declassify (guess == num) from {chuck & dave} to {chuck ⊓ dave};
}
