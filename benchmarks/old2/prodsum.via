process main {
    var prodsum: int{A & B};
    for (var i: int = 0; i < 3; i += 1) {
        val a: int{A} = input int from alice;
        val b: int{B} = input int from bob;
        prodsum += (endorse a to {A & B<-}) * (endorse b to {B & A<-});
    }

    val prodsum_public: bool{A ⊓ B} = declassify prodsum < 100 to {A ⊓ B};
    output prodsum_public to alice;
    output prodsum_public to bob;
}

host alice  : {A}
host bob    : {B}
